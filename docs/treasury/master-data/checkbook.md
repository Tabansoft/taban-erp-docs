# مفهوم و فرم: دسته چک‌ها (Checkbooks)

---

## ۱. مفهوم

در سیستم بانکی ایران، مدیریت دسته چک و شماره سریال برگه‌های چک اهمیت حیاتی دارد. موجودیت «دسته چک» در تابان، نماینده یک دسته چک فیزیکی است که توسط بانک به یکی از **حساب‌های بانکی** شرکت (که در فرم قبل تعریف شد) تخصیص یافته است.

* **هدف:** ردیابی وضعیت هر برگ چک (از زمان تخصیص تا صدور، پاس شدن، یا ابطال) و جلوگیری از صدور چک با شماره تکراری.
* **ارتباط:** هر دسته چک (Checkbook) الزاماً به یک «حساب بانکی» (Bank Account) از نوع جاری متصل است.

---

## ۲. فرم: تعریف دسته چک (Checkbook Definition)

**مسیر:**
`خزانه‌داری / تعاریف پایه / حساب‌های بانکی / دسته چک‌ها`
(این فرم معمولاً به صورت یک تب یا زیرمجموعه در فرم «حساب بانکی» قابل دسترسی است)

### فیلدهای اطلاعاتی فرم

| نام فیلد | نوع داده | اجباری | توضیح | مثال |
| :--- | :--- | :--- | :--- | :--- |
| **حساب بانکی** | انتخابی (FK) | بله | حسابی که این دسته چک به آن تعلق دارد. | `جاری - بانک ملت مرکزی` |
| **شناسه دسته چک** | متنی | بله | یک نام یا کد برای این دسته چک (مثلا کد صیادی). | `دسته چک صیادی 1403` |
| **سریال شروع** | عددی | بله | شماره سریال اولین برگ چک در این دسته. | `1001` |
| **سریال پایان** | عددی | بله | شماره سریال آخرین برگ چک در این دسته. | `1050` |
| **تعداد برگ** | عددی | خودکار | (سریال پایان - سریال شروع) + 1 | `50` |
| **پیشوند/پسوند سریال** | متنی | خیر | در صورتی که شماره سریال دارای بخش حرفی ثابت باشد. | `الف/` |
| **تاریخ دریافت** | تاریخ | بله | تاریخ تحویل دسته چک از بانک. | `1403/01/10` |
| **وضعیت دسته چک** | انتخابی | بله | (فعال، تمام شده، باطل شده). | `فعال` |

---

## ۳. فرآیند خودکار: ایجاد اسناد چک (Check Documents)

پس از ذخیره این فرم، سیستم باید به صورت خودکار، به تعداد برگ‌های چک (مثلاً ۵۰ برگ)، رکوردهایی را در جدول «اسناد چک» (Check Documents) با وضعیت اولیه **«خام» (Unused)** یا **«در دست»** ایجاد کند.

* رکورد ۱: حساب ملت، سریال ۱۰۰۱، وضعیت: خام
* رکورد ۲: حساب ملت، سریال ۱۰۰۲، وضعیت: خام
* ...
* رکورد ۵۰: حساب ملت، سریال ۱۰۵0، وضعیت: خام

این کار باعث می‌شود که در زمان صدور چک (در سند پرداخت)، کاربر فقط بتواند از سریال‌های «خام» موجود انتخاب کند و سیستم به طور خودکار وضعیت آن برگ چک را به «صادر شده» (Issued) تغییر دهد. (این فرآیند در فرم «مدیریت چک» توضیح داده می‌شود).