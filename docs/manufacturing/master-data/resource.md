# منابع (Resources)

---

## ۱. هدف

هدف از این فرم، تعریف **فرد، دستگاه، ابزار یا مکان** مشخصی است که در فرآیند تولید، کاری را انجام می‌دهد و دارای **ظرفیت محدود** و **تقویم کاری** است. این موجودیت، قلب تپنده ماژول برنامه‌ریزی و زمان‌بندی تولید است.

---

## ۲. محل دسترسی در سیستم

**ماژول:** برنامه‌ریزی و کنترل تولید (Production Management)

**مسیر:**
`برنامه‌ریزی و کنترل تولید / تعاریف پایه / منابع`

---

## ۳. تعریف

**منبع (Resource)** یک موجودیت اجرایی و قابل زمان‌بندی در کارخانه است. برخلاف «نوع منبع» که کلی است (مانند «ماشین CNC»)، منبع، یک نمونه خاص و فیزیکی است (مانند «ماشین CNC-01» با شماره سریال Y). سیستم برای این منبع، زمان رزرو می‌کند و هزینه‌های آن را محاسبه می‌نماید.

---

## ۴. کاربردها

* **مدیریت ظرفیت:** تعریف دقیق تقویم کاری، راندمان و ظرفیت هر منبع.
* **برنامه‌ریزی و زمان‌بندی:** موتور زمان‌بندی (Scheduler) سفارش‌های تولید را بر اساس در دسترس بودن این منابع، زمان‌بندی می‌کند.
* **بهای تمام شده:** محاسبه هزینه واقعی تولید بر اساس نرخ هزینه (Cost Rate) تعریف شده برای منبع و زمان صرف شده آن.
* **تخصیص در مرکز کار:** گروه‌بندی منابع در مراکز کاری (مثلاً «CNC-01» و «CNC-02» هر دو در «کارگاه تراش» هستند).

---

## ۵. فیلدهای اطلاعاتی

| نام فیلد | نوع داده | توضیح |
| :--- | :--- | :--- |
| **کد / نام منبع** | متنی | شناسه یکتا (مثلاً `CNC-01`، `علی احمدی`) |
| **نوع منبع (Resource Type)** | انتخابی (از فرم نوع منبع) | گروهی که این منبع به آن تعلق دارد (مثلاً «ماشین تراش CNC») |
| **تقویم کاری (Working Calendar)** | انتخابی | الگوی زمانی که مشخص می‌کند منبع اصولاً چه زمانی در دسترس است (مثلاً «شیفت روز شنبه تا چهارشنبه») |
| **راندمان (Efficiency)** | درصدی (۰-۱۰۰) | درصد زمانی که منبع *واقعاً* برای کار در دسترس است (از کل زمان تقویم). (مثال: ۹۰٪) |
| **ضریب عملکرد (Performance)** | عددی (مثلاً ۱.۰) | فاکتور سرعت منبع نسبت به استاندارد. (۱.۰ = استاندارد، ۱.۲ = ۲۰٪ سریع‌تر) |
| **ظرفیت (Capacity)** | عددی | حداکثر ظرفیت قابل استفاده همزمان منبع. |
| **واحد ظرفیت (Capacity UoM)** | انتخابی | واحدی که عدد ظرفیت را توصیف می‌کند (مثلاً «کار/Task»، «کیلوگرم»، «عدد») |
| **نرخ هزینه (Cost Rate)** | عددی (پولی) | هزینه استفاده از این منبع به ازای واحد اندازه‌گیری هزینه. |
| **واحد اندازه‌گیری نرخ هزینه** | انتخابی | واحدی که نرخ هزینه بر اساس آن محاسبه می‌شود (مثلاً «ساعت»، «نفر-ساعت») |
| **قابلیت‌ها (Capabilities)** | انتخابی (چندتایی) | لیست مهارت‌ها یا مشخصات فنی که این منبع دارد. |
| **وضعیت (Status)** | انتخابی | وضعیت جاری منبع (مثلاً: آماده به کار، در حال کار، خراب، در دست تعمیر) |
| **نوع فعالیت (Activity Type)** | انتخابی (آینده) | (توسعه آتی) اتصال به ماژول بهای تمام شده برای تعیین سرفصل هزینه (مثلاً «دستمزد مستقیم») |

---

## ۶. نکات کاربردی

1.  **تفاوت راندمان و ضریب عملکرد (بسیار مهم):**
    * **راندمان (Efficiency):** بر *زمان تقویم* تأثیر می‌گذارد. اگر تقویم ۸ ساعت و راندمان ۹۰٪ باشد، سیستم می‌داند که فقط ۸‎ / ۰.۹ =  ۷.۲ ساعت از این منبع برای برنامه‌ریزی در دسترس است (۱۰۰‎٪ - ۹۰٪ = ۱۰٪ زمان صرف توقفات برنامه‌ریزی شده، استراحت و ... می‌شود).
    * **ضریب عملکرد (Performance):** بر *زمان اجرا* تأثیر می‌گذارد. اگر زمان استاندارد یک کار ۱ ساعت باشد و منبعی با ضریب ۱.۲ (۲۰٪ سریع‌تر) آن را انجام دهد، ‎۱ / ۱.۲ = ۰.۸۳ ساعت طول می‌کشد. اگر ضریب ۰.۸ (۲۰٪ کندتر) باشد، ‎۱ / ۰.۸ = ۱.۲۵ ساعت طول می‌کشد.

2.  **ظرفیت و واحد آن:**
    * برای یک ماشین CNC که در لحظه ۱ کار انجام می‌دهد: ظرفیت = ۱، واحد = کار (Task).
    * برای یک کوره که همزمان ۱۵ قطعه را می‌پزد: ظرفیت = ۱۵، واحد = عدد (Piece).
    * برای یک میکسر ۲۰۰۰ کیلویی: ظرفیت = ۲۰۰۰، واحد = کیلوگرم (Kg).

---

## ۷. مثال کاربردی

| نام | نوع منبع | تقویم | راندمان | ضریب عملکرد | ظرفیت | واحد ظرفیت | نرخ هزینه (تومان) | واحد هزینه |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| CNC-01 | ماشین تراش CNC | ۲ شیفت | ۸۵٪ | ۱.۰ | ۱ | کار (Task) | ۱,۵۰۰,۰۰۰ | ساعت |
| علی احمدی | اپراتور ماهر | اداری | ۹۵٪ | ۱.۲ (سریع‌تر) | ۱ | کار (Task) | ۹۰,۰۰۰ | ساعت |
| Mixer-B | میکسر بچ | ۲۴/۷ | ۹۰٪ | ۱.۰ | ۲۰۰۰ | کیلوگرم (Kg) | ۵۰۰,۰۰۰ | ساعت |
| Kureh-A | کوره پخت | ۱ شیفت | ۸۰٪ | ۰.۹ (کندتر) | ۱۵ | عدد (Piece) | ۷۰۰,۰۰۰ | ساعت |

---

## ۸. ارتباط با سایر ماژول‌ها

| ماژول مرتبط | نوع ارتباط | توضیح |
| :--- | :--- | :--- |
| **مرکز کار (Work Center)** | استفاده مستقیم | هر منبع به یک یا چند مرکز کار تخصیص می‌یابد |
| **نوع منبع (Resource Type)** | وابسته | هر منبع باید یک نوع داشته باشد |
| **قابلیت (Capability)** | وابسته | هر منبع می‌تواند چندین قابلیت داشته باشد  |
| **برنامه‌ریزی تولید** | استفاده مستقیم | رزرو کردن زمان و ظرفیت این منبع |
| **بهای تمام شده (Costing)** | وابسته | محاسبه هزینه‌های واقعی تولید بر اساس نرخ هزینه |

---

## ۹. خطاها و هشدارهای احتمالی

| خطا / هشدار | علت | راه‌حل |
| :--- | :--- | :--- |
| «منبع تقویم کاری ندارد» | تقویم کاری انتخاب نشده است | یک تقویم کاری معتبر برای منبع انتخاب کنید |
| «ظرفیت منبع صفر است» | مقدار ظرفیت ۰ وارد شده | ظرفیت واقعی منبع را (حداقل ۱) وارد کنید |
| «منبع در وضعیت خراب است» | (خطای زمان‌بندی) وضعیت منبع "خراب" یا "تعمیر" است | وضعیت منبع را به‌روز کنید یا از منبع دیگری استفاده کنید |
| «راندمان یا ضریب عملکرد نامعتبر» | مقادیر خارج از محدوده (مثلاً منفی) وارد شده | مقادیر معتبر (مثلاً ۹۰٪ یا ۱.۰) وارد کنید |

---

## ۱۰. توسعه‌های آتی (پیشنهادی)

* فعال‌سازی فیلد **«نوع فعالیت» (Activity Type)** برای یکپارچگی کامل با ماژول بهای تمام شده.
* افزودن **تاریخچه وضعیت (Status History)** برای تحلیل زمان‌های توقف (Downtime).
* افزودن **برنامه تعمیرات و نگهداری (Maintenance Schedule)** برای مسدود کردن خودکار تقویم منبع.