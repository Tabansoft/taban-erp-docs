# سناریوهای محاسباتی (نحوه کارکرد موتور زمان‌بندی)

این بخش نحوه استفاده ترکیبی از موجودیت‌های فوق (منبع، فرآیند تولید، ضریب عملکرد، راندمان و ...) را در عمل نشان می‌دهد.

---

## سناریو ۱: تولید گسسته (تولید دوچرخه با منابع همزمان)

**سفارش تولید: ۱۰ عدد «دوچرخه مدل M-200»**

### ۱. تعریف فرآیند تولید
* **فرآیند تولید:** فرآیند تولید دوچرخه M-200
* **مقدار پایه:** ۱
* **واحد:** عدد

### ۲. تعریف عملیات (عملیات ۲۰: جوشکاری فریم)
* **منابع مورد نیاز:**
    * **ردیف ۱ (دستگاه):**
        * نوع منبع: دستگاه جوشکاری
        * مقدار: ۱
        * مبنای زمان راه‌اندازی: **ثابت برای کل سفارش**
        * زمان راه‌اندازی استاندارد: ۵ دقیقه (تنظیم دستگاه برای کل سفارش)
        * مبنای زمان اجرا: **به ازای هر واحد** (چون مقدار پایه ۱ است)
        * زمان اجرای استاندارد: ۱۲ دقیقه (زمان استاندارد جوشکاری برای ۱ فریم)
        * میزان مصرف ظرفیت: ۱ کار (Task)
    * **ردیف ۲ (اپراتور):**
        * نوع منبع: اپراتور جوشکار
        * مقدار: ۱
        * قابلیت‌های مورد نیاز: گرید A
        * مبنای زمان راه‌اندازی: **ثابت برای کل سفارش**
        * زمان راه‌اندازی استاندارد: ۲ دقیقه (پوشیدن لباس ایمنی)
        * مبنای زمان اجرا: **به ازای هر واحد**
        * زمان اجرای استاندارد: ۱۳ دقیقه (زمان استاندارد اپراتور برای ۱ فریم)
        * میزان مصرف ظرفیت: ۱ کار (Task)

### ۳. تعریف منابع موجود (کاندیداها)
* منبع: دستگاه جوشکاری ۰۱، **ضریب عملکرد (Performance): ۱.۰**
* منبع: دستگاه جوشکاری ۰۲، **ضریب عملکرد (Performance): ۱.۲** (۲۰٪ سریع‌تر)
* منبع: اپراتور علی احمدی، **ضریب عملکرد (Performance): ۱.۰**، راندمان (Efficiency): ۹۰٪
* منبع: اپراتور رضا حسینی، **ضریب عملکرد (Performance): ۰.۸** (۲۰٪ کندتر)، راندمان (Efficiency): ۹۰٪

### ۴. محاسبات زمان‌بندی (Scheduler)
فرض کنیم موتور برنامه‌ریزی (بر اساس قواعد تخصیص) ترکیب {دستگاه جوشکاری ۰۲, رضا حسینی} را انتخاب می‌کند.

1.  **محاسبه زمان استاندارد (برای ۱۰ واحد):**
    * زمان راه‌اندازی استاندارد ماشین = ۵ دقیقه (ثابت)
    * زمان اجرای استاندارد ماشین = ۱۰ واحد * ۱۲ دقیقه (به ازای واحد) = ۱۲۰ دقیقه
    * **کل زمان استاندارد ماشین = ۵ + ۱۲۰ = ۱۲۵ دقیقه**
    * ---
    * زمان راه‌اندازی استاندارد اپراتور = ۲ دقیقه (ثابت)
    * زمان اجرای استاندارد اپراتور = ۱۰ واحد * ۱۳ دقیقه (به ازای واحد) = ۱۳۰ دقیقه
    * **کل زمان استاندارد اپراتور = ۲ + ۱۳۰ = ۱۳۲ دقیقه**

2.  **محاسبه زمان واقعی (Actual Time) بر اساس ضریب عملکرد:**
    * **زمان واقعی دستگاه (جوشکاری ۰۲، ضریب ۱.۲):**
        * زمان واقعی = زمان استاندارد / ضریب عملکرد
        * زمان واقعی = ۱۲۵ دقیقه / ۱.۲ = **۱۰۴.۱۷ دقیقه** (۱ ساعت و ۴۴ دقیقه)
    * **زمان واقعی اپراتور (رضا حسینی، ضریب ۰.۸):**
        * زمان واقعی = زمان استاندارد / ضریب عملکرد
        * زمان واقعی = ۱۳۲ دقیقه / ۰.۸ = **۱۶۵ دقیقه** (۲ ساعت و ۴۵ دقیقه)

3.  **محاسبه زمان کل عملیات (همزمانی منابع):**
    * چون هر دو منبع (ماشین و اپراتور) برای انجام کار *همزمان* مورد نیاز هستند، مدت زمان کل عملیات برابر با **حداکثر (MAX)** زمان واقعی آن دو است.
    * Total Operation Duration = MAX (104.17 دقیقه , 165 دقیقه) = **۱۶۵ دقیقه**
    * *نتیجه:* هر دو منبع (دستگاه ۰۲ و رضا حسینی) به مدت ۱۶۵ دقیقه اشغال خواهند بود.

4.  **محاسبه زمان رزرو شده در تقویم (بر اساس راندمان):**
    * زمان واقعی اپراتور ۱۶۵ دقیقه بود.
    * Calendar Time = Actual Time / Efficiency
    * Calendar Time = ۱۶۵ دقیقه / ۰.۹ (راندمان ۹۰٪ رضا حسینی) = **۱۸۳.۳۳ دقیقه**
    * *نتیجه:* سیستم ۱۸۳.۳۳ دقیقه از تقویم کاری رضا حسینی را برای این کار رزرو می‌کند (۱۶۵ دقیقه کار واقعی + ۱۸.۳۳ دقیقه زمان غیرمفید پیش‌بینی شده). (محاسبه راندمان برای دستگاه نیز به همین ترتیب اعمال می‌شود).

---

## سناریو ۲: تولید بچ (خوراک طیور - میکسر بچ)

**سفارش تولید: ۳۰۰۰ کیلوگرم «خوراک A»**

### ۱. تعریف فرآیند تولید
* **فرآیند تولید:** فرآیند خوراک A
* **مقدار پایه:** ۱۰۰۰
* **واحد:** کیلوگرم

### ۲. تعریف عملیات (میکس کردن)
* **منابع مورد نیاز (ردیف ۱):**
    * نوع منبع: میکسر بچ
    * مقدار: ۱
    * مبنای زمان راه‌اندازی: **ثابت به ازای هر بچ**
    * زمان راه‌اندازی استاندارد: ۱۵ دقیقه (زمان تمیزکاری به ازای هر بچ)
    * مبنای زمان اجرا: **ثابت به ازای هر بچ**
    * زمان اجرای استاندارد: ۳۰ دقیقه (زمان میکس استاندارد برای یک بچ)
    * میزان مصرف ظرفیت: ۱۰۰۰ کیلوگرم (مصرف ظرفیت بر اساس مقدار پایه فرآیند تولید)

### ۳. تعریف منابع
* منبع: "Mixer-A", ضریب عملکرد = ۱.۰, **ظرفیت (Capacity) = 1000 kg**
* منبع: "Mixer-B", ضریب عملکرد = ۱.۰, **ظرفیت (Capacity) = 2000 kg**

### ۴. محاسبات زمان‌بندی (Scheduler)
موتور برنامه‌ریزی سفارش را به **Mixer-B** (ظرفیت بالاتر) تخصیص می‌دهد.

1.  **محاسبه تعداد بچ‌ها:**
    * مقدار سفارش: ۳۰۰۰ کیلوگرم
    * ظرفیت منبع (Mixer-B): ۲۰۰۰ کیلوگرم
    * تعداد بچ = گرد کردن رو به بالا (مقدار سفارش / ظرفیت منبع)
    * تعداد بچ = Ceiling (3000 / 2000) = Ceiling (1.5) = **۲ بچ**
    * (بچ اول: ۲۰۰۰ کیلوگرم، بچ دوم: ۱۰۰۰ کیلوگرم)

2.  **محاسبه زمان استاندارد (برای ۲ بچ):**
    * *نکته: زمان‌ها «به ازای هر بچ» هستند.*
    * Total Standard Setup Time = ۲ بچ * ۱۵ دقیقه (به ازای بچ) = ۳۰ دقیقه
    * Total Standard Run Time = ۲ بچ * ۳۰ دقیقه (به ازای بچ) = ۶۰ دقیقه
    * Total Standard Time = ۳۰ + ۶۰ = **۹۰ دقیقه**

3.  **محاسبه زمان واقعی (Actual Time):**
    * چون ضریب عملکرد (PF) = 1.0 است، زمان واقعی = زمان استاندارد = **۹۰ دقیقه**.

---

## سناریو ۳: تولید پیوسته (خوراک طیور - اکسترودر)

**سفارش تولید: ۸۰۰۰ کیلوگرم «خوراک اکسترود B»**

### ۱. تعریف فرآیند تولید
* **فرآیند تولید:** فرآیند خوراک اکسترود B
* **مقدار پایه:** ۱۰۰۰
* **واحد:** کیلوگرم

### ۲. تعریف عملیات (اکسترود کردن)
* **منابع مورد نیاز (ردیف ۱):**
    * نوع منبع: خط اکسترودر
    * مقدار: ۱
    * مبنای زمان راه‌اندازی: **ثابت برای کل سفارش**
    * زمان راه‌اندازی استاندارد: ۱۲۰ دقیقه (گرم شدن و تنظیمات اولیه خط)
    * مبنای زمان اجرا: **به ازای مقدار پایه فرآیند تولید**
    * زمان اجرای استاندارد: ۶۰ دقیقه (زمان استاندارد تولید ۱۰۰۰ کیلوگرم)
    * میزان مصرف ظرفیت: ۱ کار (Task)

### ۳. تعریف منابع
* منبع: "Extruder-01", ضریب عملکرد = ۱.۰
* منبع: "Extruder-02", **ضریب عملکرد = ۱.۲۵** (۲۵٪ سریع‌تر)

### ۴. محاسبات زمان‌بندی (Scheduler)
موتور برنامه‌ریزی سفارش را به **Extruder-02** (سریع‌تر) تخصیص می‌دهد.

1.  **محاسبه زمان استاندارد (برای ۸۰۰۰ کیلوگرم):**
    * Standard Setup Time = ۱۲۰ دقیقه (چون «ثابت برای کل سفارش» است)
    * ---
    * *محاسبه ضریب تبدیل مقدار:*
    * (Order Qty / Basis Qty) = ۸۰۰۰ کیلوگرم / ۱۰۰۰ کیلوگرم = ۸
    * Standard Run Time = (ضریب تبدیل) * (زمان اجرای استاندارد)
    * Standard Run Time = ۸ * ۶۰ دقیقه = ۴۸۰ دقیقه
    * ---
    * Total Standard Time = ۱۲۰ دقیقه (Setup) + ۴۸۰ دقیقه (Run) = **۶۰۰ دقیقه**

2.  **محاسبه زمان واقعی (Actual Time) بر اساس ضریب عملکرد:**
    * منبع: "Extruder-02" (PF = 1.25)
    * Actual Setup = ۱۲۰ دقیقه / ۱.۲۵ = ۹۶ دقیقه
    * Actual Run = ۴۸۰ دقیقه / ۱.۲۵ = ۳۸۴ دقیقه
    * Total Operation Duration = ۹۶ + ۳۸۴ = **۴۸۰ دقیقه** (۸ ساعت)

3.  **زمان رزرو شده در تقویم (با راندمان ۹۰٪):**
    * Calendar Time = Actual Time / Efficiency
    * Calendar Time = ۴۸۰ دقیقه / ۰.۹ = **۵۳۳.۳۳ دقیقه**