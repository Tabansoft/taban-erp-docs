# اسقاط و انهدام دارایی (Asset Scrapping & Destruction)

**مسیر دسترسی:** `دارایی ثابت > عملیات > اسقاط و انهدام`
**نام فنی:** `AssetScrapProcess`

## ۱. مقدمه و فلسفه وجودی

چرا اسقاط فرآیندی جداگانه است؟

1.  **جنبه فنی:** اسقاط نیاز به «گواهی فنی» دارد. کسی باید تایید کند که "این دستگاه واقعاً غیرقابل تعمیر است".
2.  **جنبه انبار:** وقتی یک میز می‌شکند، از "لیست اموال" خارج می‌شود اما لاشه آهنی آن وارد "انبار ضایعات" می‌شود. این تغییر ماهیت (از دارایی ثابت به موجودی کالا) باید مدیریت شود.
3.  **جنبه قانونی (دولتی):** انهدام اموال دولتی تشریفات سخت‌گیرانه‌ای دارد (کمیسیون ماده ۱۰۸) تا از حیف‌ومیل بیت‌المال جلوگیری شود.

---

## ۲. چرخه عملیات اسقاط (The Scrapping Workflow)

این چرخه در ERP تابان ۴ مرحله دارد:

### مرحله ۱: اعلام خرابی و اسقاط (Technical Condemnation)
واحد فنی یا جمعدار اعلام می‌کند: "این پرینتر سوخته و هزینه تعمیرش بیشتر از خرید نو است."

* **وضعیت دارایی:** به `Pending Scrap` (در انتظار اسقاط) تغییر می‌کند.

### مرحله ۲: کارشناسی و تایید (Verification)
* **بخش خصوصی:** تایید مدیر فنی.
* **بخش دولتی:** بازدید "کمیسیون اسقاط". اعضا باید لاشه را رؤیت کنند و صورتجلسه کنند.

### مرحله ۳: عملیات فیزیکی (Physical Disposition)
دارایی از محل استقرار (مثلاً اتاق ۱۰۲) جمع‌آوری شده و به **«محوطه اسقاط / انبار ضایعات»** منتقل می‌شود.

* *نکته سیستمی:* اگر لاشه ارزش داشته باشد (مثلاً مس، آهن)، در این مرحله یک سند "رسید انبار ضایعات" صادر می‌شود.

### مرحله ۴: عملیات مالی (Financial Write-off)
صدور سند حسابداری برای حذف ارزش دفتری و شناسایی زیان.

---

## ۳. منطق حسابداری (Accounting Logic)

اسقاط معمولاً منجر به **زیان** می‌شود، مگر اینکه دارایی کاملاً مستهلک شده باشد.

### سناریوی ۱: اسقاط بدون ارزش لاشه (Total Loss)
یک میز چوبی شکسته که باید سوزانده یا دور ریخته شود.

* **ارزش دفتری:** ۱۰ میلیون ریال (بهای تمام شده ۲۰ - استهلاک ۱۰).
* **سند حسابداری:**
    * بدهکار: استهلاک انباشته (۱۰)
    * **بدهکار: زیان ناشی از اسقاط دارایی (۱۰)**
    * بستانکار: دارایی ثابت (۲۰)

### سناریوی ۲: اسقاط با ارزش لاشه (Recycling Value)
یک کابل مسی فشار قوی که سوخته، اما مس آن کیلویی ارزش دارد.

* **ارزش دفتری:** ۱۰ میلیون ریال.
* **ارزش کارشناسی ضایعات:** ۲ میلیون ریال.
* **سند حسابداری:**
    * بدهکار: استهلاک انباشته (۱۰)
    * **بدهکار: موجودی کالا / انبار ضایعات (۲)** <-- *دارایی تبدیل به موجودی شد*
    * **بدهکار: زیان ناشی از اسقاط (۸)**
    * بستانکار: دارایی ثابت (۲۰)

> **نکته:** آن ۲ میلیون تومان "موجودی ضایعات" بعداً در یک مزایده فله‌ای فروخته می‌شود و سودش شناسایی می‌گردد.

---

## ۴. جزئیات فرم اسقاط (Form Details)

| عنوان فیلد | نوع | الزامی؟ | شرح و منطق بیزینسی |
| :--- | :--- | :--- | :--- |
| **دارایی** | Lookup | بله | انتخاب پلاک. |
| **تاریخ اسقاط** | Date | بله | تاریخ صورتجلسه انهدام. |
| **علت اسقاط** | Enum | بله | (فرسودگی کامل، حوادث غیرمترقبه، عدم کارایی فنی، هزینه تعمیر بالا). |
| **گواهی فنی** | File | بله | تصویر نامه کارشناس فنی که "غیرقابل تعمیر بودن" را تایید کرده. |
| **روش امحاء** | Enum | خیر | (دفن، سوزاندن، فروش ضایعاتی، بازیافت). |
| **ارزش لاشه (Scrap Value)** | Money | خیر | اگر قرار است به انبار ضایعات برود، ارزش تخمینی آن چقدر است؟ |
| **انبار مقصد** | Lookup | شرطی | اگر ارزش لاشه > ۰ باشد، باید انبار ضایعات انتخاب شود. |

---

## ۵. سناریوهای کاربردی (Use Cases)

### سناریوی ۱: انهدام اسناد و تجهیزات حساس (بخش امنیتی/بانکی)
یک هارد سرور بانکی باید اسقاط شود. نمی‌توان آن را فروخت (خطر نشت اطلاعات).

1.  **روش:** انهدام فیزیکی (خرد کردن/Shattering).
2.  **فرآیند:** نماینده حراست حضور می‌یابد. هارد خرد می‌شود.
3.  **ثبت در سیستم:** گزینه "انهدام کامل" انتخاب می‌شود. ارزش لاشه "صفر" ثبت می‌شود. عکس قطعات خرد شده پیوست می‌شود.

### سناریوی ۲: خودروهای فرسوده (دولتی)
یک سازمان دولتی تعدادی خودروی پلاک قرمز دارد که عمرشان تمام شده.

1.  طبق قانون، این خودروها نباید فروخته شوند (تا دوباره وارد خیابان نشوند).
2.  باید به مراکز اسقاط تحویل داده شوند و "گواهی اسقاط" دریافت شود.
3.  در سیستم تابان، شماره "گواهی اسقاط" ثبت می‌شود و خودرو از دفاتر حذف می‌گردد.

### سناریوی ۳: تفکیک قطعات (Cannibalization)
یک لیفتراک خراب می‌شود. تعمیر نمی‌شود، اما لاستیک‌ها و موتورش سالم است.

1.  **اقدام:** اسقاط لیفتراک اصلی.
2.  **تفکیک:**
    * بدنه فلزی -> انبار ضایعات (کیلویی).
    * موتور -> انبار قطعات یدکی (به عنوان قطعه دست دوم رسید می‌شود).
    * لاستیک -> انبار قطعات یدکی.
3.  **اثر مالی:** ارزش این قطعات بازیافتی از "زیان اسقاط" کم می‌کند.

---

## ۶. تعامل با سایر بخش‌ها (Integration)

1.  **با انبار (Inventory):**
    * مهم‌ترین تعامل اینجاست. تبدیل "پلاک اموال" به "کد کالای انبار" (SKU). سیستم باید اجازه دهد کاربر کد کالای ضایعاتی را انتخاب کند.

2.  **با نگهداری و تعمیرات (Maintenance):**
    * معمولاً درخواست اسقاط از دلِ ماژول تعمیرات بیرون می‌آید (وقتی که کارشناس می‌زند: *Beyond Economic Repair*).

---

## ۷. ملاحظات فنی برای توسعه‌دهندگان (Developer Notes)

### الف) سند مرکب (Composite Transaction)
در اسقاط با ارزش لاشه، سیستم باید همزمان دو کار انجام دهد:

1.  در ماژول اموال: دارایی را `Disposed` کند.
2.  در ماژول انبار: یک `Goods Receipt` (رسید ضایعات) صادر کند.
* این دو عملیات باید در یک `Database Transaction` باشند.

### ب) کنترل استهلاک (Full Depreciation check)
بسیاری از شرکت‌ها اجازه اسقاط دارایی را نمی‌دهند مگر اینکه کاملاً مستهلک شده باشد (NBV = 0).

* سیستم باید یک `Warning` (هشدار) بدهد: *"این دارایی هنوز ۱۰ میلیون ارزش دفتری دارد. آیا از اسقاط و شناسایی زیان مطمئن هستید؟"*

### ج) پیوست اجباری (Mandatory Attachment)
برای جلوگیری از تقلب (فروختن دارایی سالم و ثبت آن به عنوان اسقاط)، سیستم می‌تواند تنظیم شود که "آپلود عکس لاشه" اجباری باشد.

---

## ۸. پرسش‌های متداول (FAQ)

**س: آیا زیان ناشی از اسقاط، هزینه قابل قبول مالیاتی است؟**

* **پاسخ:** در قانون مالیات‌های ایران، "زیان دفتری" ناشی از حوادث یا اسقاط معمولاً با ارائه مستندات قوی (صورتجلسه، عکس، تایید کارشناس) پذیرفته می‌شود. اگر مستندات ناقص باشد، ممیز آن را رد می‌کند. به همین دلیل بخش "پیوست‌ها" در تابان حیاتی است.

**س: اگر دارایی را اسقاط کردیم و ۶ ماه بعد فهمیدیم اشتباه شده (گم شده بود، اسقاط نبود)، چه کنیم؟**

* **پاسخ:** عملیات اسقاط (چون سند انبار تولید کرده) برگشت‌ناپذیر است.
    * راهکار: باید یک دارایی جدید (با روش تحصیل "استقرار/یافت شده") ایجاد کنید و با ارزش کارشناسی روز ثبت نمایید.

**س: تکلیف "پلاک اموال" چه می‌شود؟**

* **پاسخ:** پلاک فیزیکی باید امحاء شود. در سیستم، شماره پلاک "بایگانی" می‌شود و هرگز به دارایی دیگری تخصیص داده نمی‌شود (برای حفظ یکپارچگی تاریخی).